(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,t,a){e.exports=a(66)},57:function(e,t,a){},63:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(37),s=a.n(r),o=(a(57),a(3)),c=a(4),l=a(9),p=a(6),u=a(8),d=a(34),h=a(12),m=a(25),f=a(33),g=a(38),b=a(69),v=a(68),k=function(e){var t=Object(f.a)({requestOptions:{componentRestrictions:{country:"sg"}},debounce:300}),a=t.ready,n=t.value,r=t.suggestions,s=r.status,o=r.data,c=t.setValue,l=t.clearSuggestions,p=Object(g.a)(function(){l()}),u=function(t){return function(){var a=t.description,n=t.structured_formatting.main_text,i=t.structured_formatting.secondary_text;c(n+", "+i,!1),l(),Object(f.b)({address:a}).then(function(e){return Object(f.c)(e[0])}).then(function(t){var a=t.lat,n=t.lng;e.onSelectDestination({destinationAddr:i,destinationLat:a,destinationLng:n})}).catch(function(e){console.log("Error: ",e)})}};return i.a.createElement("div",{ref:p},i.a.createElement(b.a,{className:"mb-1"},i.a.createElement(v.a.Control,{type:"search",className:"fs-5",placeholder:"Destination","aria-label":"Destination","aria-describedby":"basic-addon2",onChange:function(e){c(e.target.value)},disabled:!a,value:n})),"OK"===s&&i.a.createElement("div",{className:"dropdown"},i.a.createElement("ul",{className:"dropdown-menu d-block fs-5"},o.map(function(e){var t=e.place_id,a=e.structured_formatting,n=a.main_text,r=a.secondary_text;return i.a.createElement("li",{className:"dropdown-item",key:t,onClick:u(e)},i.a.createElement("strong",null,n)," ",i.a.createElement("small",null,r))}))))},y=a(39),w=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;if(!1!==this.props.inputs.calculateDistance){var t=this.props.inputs.position,a=this.props.inputs.destinationAddr,n=this.props.inputs.offsetOverride,r=this.props.inputs.calculateDistance,s=null!==this.props.inputs.position?this.props.inputs.position.coords.latitude:1.2857166,o=null!==this.props.inputs.position?this.props.inputs.position.coords.longitude:103.8235629,c=this.props.inputs.destinationLat,l=this.props.inputs.destinationLng;return i.a.createElement(y.a,{options:{destinations:[{lat:s,lng:o}],origins:[{lat:c,lng:l}],travelMode:"DRIVING"},callback:function(i){if(null!==t){var s=i.rows[0].elements[0];if(e.props.onChangeDMDistance(s),""!==a&&!1===n){var o=s.duration.value/60,c=5*Math.ceil(o/5);e.props.onChangeDMOffset(c)}}else if(r){e.props.onChangeDMOffset(0)}}})}}}]),t}(n.Component),E=a(70),D=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).onClickPeriod=function(t,a){for(var n=0;n<e.buttons.length;++n)e.buttons[n]=n===t?"btn-warning":"btn-secondary";e.props.onChangeParkingPeriod(a)},e.buttons=["btn-warning","btn-secondary","btn-secondary","btn-secondary","btn-secondary"],e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;if(""!==this.props.destinationAddr)return i.a.createElement("div",{className:"input-group pt-1 pb-2"},i.a.createElement(E.a,{className:"btn fs-5 btn-secondary"},"for"),i.a.createElement(E.a,{className:"btn fs-5 "+this.buttons[0],onClick:function(){return e.onClickPeriod(0,.5)}},"30min"),i.a.createElement(E.a,{className:"btn fs-5 "+this.buttons[1],onClick:function(){return e.onClickPeriod(1,1)}},"1hr"),i.a.createElement(E.a,{className:"btn fs-5 "+this.buttons[2],onClick:function(){return e.onClickPeriod(2,2)}},"2hr"),i.a.createElement(E.a,{className:"btn fs-5 "+this.buttons[3],onClick:function(){return e.onClickPeriod(3,3)}},"3hr"),i.a.createElement(E.a,{className:"btn fs-5 "+this.buttons[4],onClick:function(){return e.onClickPeriod(4,6)}},"6hr"))}}]),t}(n.Component),O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).refreshOffsets=function(){var t=Date.now();e.offsets.forEach(function(e){var a=new Date(t+60*e.value*1e3),n=a.getHours().toString().padStart(2,"0")+":"+a.getMinutes().toString().padStart(2,"0");e.timeDescription=n})},e.offsets=[{value:0,description:"parking start now, at "},{value:5,description:"parking start in +5min, at "},{value:10,description:"parking start in +10min, at "},{value:15,description:"parking start in +15min, at "},{value:20,description:"parking start in +20min, at "},{value:25,description:"parking start in +25min, at "},{value:30,description:"parking start in +30min, at "},{value:35,description:"parking start in +35min, at "},{value:40,description:"parking start in +40min, at "},{value:45,description:"parking start in +45min, at "}],e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(""!==this.props.destinationAddr)return this.refreshOffsets(),i.a.createElement("div",{className:"col-xs-2"},i.a.createElement("select",{className:"form-select fs-5 bg-warning",style:{width:"347px"},value:this.props.offset,onChange:this.props.onChangeOffset},this.offsets.map(function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.description,e.timeDescription)})))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onClickDestination=function(){var e=a.props.carparkData.googleMapUrl;window.open(e,"_blank")},a.renderParkingFee=function(e){return!0===e.parkingForbidden?i.a.createElement("div",{className:"badge bg-danger"},"CLOSED"):0===e.parkingFee?i.a.createElement("div",{className:"badge bg-primary"},"FREE"):i.a.createElement("div",{className:"badge bg-primary"},"S$",e.parkingFee.toFixed(2))},a.renderAvailability=function(e){if(void 0!==e){var t=e[0].lots_available;return"0"!==t?i.a.createElement("div",{className:"badge bg-primary"},t," lots"):i.a.createElement("div",{className:"badge bg-danger"},t," lots")}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;if(null!==this.props.carparkData){var t=this.props.carparkData.carpark.carparkAvailability,a={parkingFee:this.props.carparkData.fee_structure.parkingFee,parkingForbidden:this.props.carparkData.fee_structure.parkingForbidden};return i.a.createElement("li",{variant:"light",className:"list-group-item list-group-item-action align-items-start d-flex px-0"},i.a.createElement("div",{className:"col-2 col-sm-1 text-center",onClick:function(){return e.props.show(e.props.detailIndex)}},i.a.createElement("i",{className:"bi bi-geo-alt-fill fs-3"})),i.a.createElement("div",{className:"col-7 col-sm-8 fs-6",onClick:this.onClickDestination},i.a.createElement("div",{className:"fw-bold"},this.props.carparkData.carpark.name),i.a.createElement("div",null,this.props.carparkData.walkingMinutes," min walk"),i.a.createElement("div",null,this.props.carparkData.carpark.address)),i.a.createElement("div",{className:"col-3 text-end p-0 pe-2"},this.renderParkingFee(a),this.renderAvailability(t)))}}}]),t}(n.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!(this.props.shortlists.length<1))return i.a.createElement("div",{className:"container-lg px-0 pb-2"},i.a.createElement("ul",{className:"list-group list-group-flush fs-5"},i.a.createElement(S,{show:this.props.show,detailIndex:0,carparkData:this.props.shortlists.length>0?this.props.shortlists[0]:null}),i.a.createElement(S,{show:this.props.show,detailIndex:1,carparkData:this.props.shortlists.length>1?this.props.shortlists[1]:null}),i.a.createElement(S,{show:this.props.show,detailIndex:2,carparkData:this.props.shortlists.length>2?this.props.shortlists[2]:null}),i.a.createElement(S,{show:this.props.show,detailIndex:3,carparkData:this.props.shortlists.length>3?this.props.shortlists[3]:null}),i.a.createElement(S,{show:this.props.show,detailIndex:4,carparkData:this.props.shortlists.length>4?this.props.shortlists[4]:null})))}}]),t}(n.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(null!==this.props.carparkDetail)return i.a.createElement(m.a,{show:this.props.showDetail,onHide:this.props.onHide,style:{height:"80%"},placement:"bottom"},i.a.createElement(m.a.Header,null,i.a.createElement(m.a.Title,null,i.a.createElement("i",{className:"bi bi-geo-alt-fill"})," ",this.props.carparkDetail.name)),i.a.createElement(m.a.Body,null,i.a.createElement("h5",{className:"pt-3"},"Weekday Peak"),i.a.createElement("div",{className:"fs-6"},this.props.carparkDetail.rate_workday_peak),i.a.createElement("h5",{className:"pt-3"},"Weekday Off-Peak"),i.a.createElement("div",{className:"fs-6"},this.props.carparkDetail.rate_workday_offpeak),i.a.createElement("h5",{className:"pt-3"},"Saturday"),i.a.createElement("div",{className:"fs-6"},this.props.carparkDetail.rate_sat),i.a.createElement("h5",{className:"pt-3"},"Sunday and Public Holiday"),i.a.createElement("div",{className:"fs-6"},this.props.carparkDetail.rate_sun_ph)))}}]),t}(n.Component),N=function e(t){var a=this;Object(o.a)(this,e),this.fetchAvailabilityData=function(){fetch("https://www.koleksikatik.com/data/d.json",{method:"GET",headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.data=e.items[0].carpark_data,a.refreshDateTime=e.items[0].timestamp,a.dataLoad=!0,a.callback()}).catch(function(e){a.dataError=e,a.dataLoad=!0,a.callback()})},this.populateAvailability=function(e){void 0!==a.data&&null!==a.data&&e.forEach(function(e){var t=e.carpark.car_park_no;a.data.forEach(function(a){var n=a.carpark_number;t===n&&(e.carpark.carparkAvailability=a.carpark_info)})})},this.data=null,this.refreshDateTime=null,this.dataError=null,this.dataLoad=!1,this.callback=t,this.fetchAvailabilityData()},P=a(44),L=a(35),A=Object(P.a)({apiKey:"",authDomain:"nearest-parking-58a90.firebaseapp.com",projectId:"nearest-parking-58a90",storageBucket:"nearest-parking-58a90.appspot.com",messagingSenderId:"543236969803",appId:"1:543236969803:web:73756cbeadc9e65c4a44ce",measurementId:"G-P6E5LH4QY0"}),x=Object(L.a)(A),M=Object(L.b)(x,"getNearestCarparks"),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={position:null,distance:null,showDetail:!1,offsetOverride:!1,calculateDistance:!1,originLat:0,originLng:0,destinationAddr:"",destinationLat:0,destinationLng:0,destinationSearchRadius:1,timeToDestination:0,parkingPeriod:.5,carparkDetail:null,shortlists:[]},a.componentDidMount=function(){a.carparkAvailability=new N(function(){a.showLoading(!1)}),navigator.geolocation.getCurrentPosition(a.onPositionSuccess,a.onPositionError,{enableHighAccuracy:!1,timeout:5e3,maximumAge:5e3})},a.onPositionSuccess=function(e){var t=e.coords.latitude,n=e.coords.longitude;a.setState({position:e,originLat:t,originLng:n})},a.onPositionError=function(e){},a.refreshCarparkShortlist=function(){if(""!==a.state.destinationAddr){a.showLoading(!0);var e=0===a.state.originLat?a.state.destinationLat:a.state.originLat,t=0===a.state.originLng?a.state.destinationLng:a.state.originLng;M({oLat:e,oLng:t,dLat:a.state.destinationLat,dLng:a.state.destinationLng,timeToDest:a.state.timeToDestination,parkPeriod:a.state.parkingPeriod,destRadius:a.state.destinationSearchRadius}).then(function(e){var t=e.data;console.log(e),a.carparkAvailability.populateAvailability(t),a.setState({shortlists:t},function(){a.showLoading(!1)})})}},a.showLoading=function(e){var t=e?"flex":"none";document.getElementById("overlay").style.display=t},a.onSelectDestination=function(e){a.setState({offsetOverride:!1,calculateDistance:!0}),a.setState(e,a.refreshCarparkShortlist)},a.onChangeParkingPeriod=function(e){a.setState({parkingPeriod:e},a.refreshCarparkShortlist)},a.onChangeOffset=function(e){a.setState({offsetOverride:!0,timeToDestination:e.target.value},a.refreshCarparkShortlist)},a.onChangeDMDistance=function(e){a.setState({distance:e})},a.onChangeDMOffset=function(e){!0!==a.state.offsetOverride&&a.setState({timeToDestination:e,calculateDistance:!1})},a.onShowDetail=function(e){var t=a.state.shortlists[e].carpark;a.setState({carparkDetail:t,showDetail:!0})},a.onCloseShowDetail=function(){a.setState({showDetail:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("main",null,i.a.createElement("div",{id:"overlay",style:{display:"flex"}},i.a.createElement("div",{className:"w-100 d-flex justify-content-center align-items-center"},i.a.createElement("div",{className:"spinner"}))),i.a.createElement("div",{className:"container-fluid bg-secondary p-0 m-0 pb-2"},i.a.createElement("div",{className:"container"},i.a.createElement(k,{inputs:this.state,onSelectDestination:this.onSelectDestination}),i.a.createElement(w,{inputs:this.state,onChangeDMDistance:this.onChangeDMDistance,onChangeDMOffset:this.onChangeDMOffset}))),i.a.createElement("div",{className:"container-fluid p-0 m-0"},i.a.createElement("div",{className:"container-lg py-2"},i.a.createElement(O,{destinationAddr:this.state.destinationAddr,offset:this.state.timeToDestination,onChangeOffset:this.onChangeOffset}),i.a.createElement(D,{destinationAddr:this.state.destinationAddr,onChangeParkingPeriod:this.onChangeParkingPeriod})),i.a.createElement(j,{show:this.onShowDetail,shortlists:this.state.shortlists})),i.a.createElement(C,{showDetail:this.state.showDetail,onHide:this.onCloseShowDetail,carparkDetail:this.state.carparkDetail}))}}]),t}(i.a.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("main",null,i.a.createElement("div",{className:"container-fluid p-0 m-0"},i.a.createElement("div",{className:"container-lg pt-4"},i.a.createElement("h3",{className:"py-2"},"TERMS & CONDITIONS"),i.a.createElement("p",null,"Parkingly (\u201cThe Service\u201d, \u201cThe Application\u201d or \u201cParkingly.co\u201d) is provided to the user (\u201cUsers\u201d, \u201cYou\u201d or \u201cYour\u201d) \u201cAS IS\u201d and \u201cAS AVAILABLE\u201d and with all faults and defects without warranty of any kind. Parkingly team (\u201cWe\u201d, \u201cUs\u201d or \u201cOur\u201d) disclaims all warranties, whether express, implied, statutory or otherwise, with respect to the Service, including all implied warranties of merchantability, fitness for a particular purpose, title and non-infringement, and warranties that may arise out of course of dealing, course of performance, usage or trade practice. Without limitation to the foregoing, we provide no warranty or undertaking, and makes no representation of any kind that the Service will meet Your requirements, achieve any intended results, be compatible or work with any other software, applications, systems or services, operate without interruption, meet any performance or reliability standards or be error free or that any errors or defects can or will be corrected. Without limiting the foregoing, we make neither representation nor warranty of any kind, express or implied: (i) as to the operation or availability of the Service, or the information, content, and materials or products included thereon; (ii) that the Service will be uninterrupted or error-free; (iii) as to the accuracy, reliability, or currency of any information or content provided through the Service; or (iv) that the Service, its servers, the content, or e-mails sent from or on behalf of us are free of viruses, scripts, trojan horses, worms, malware, timebombs or other harmful components. We will not be liable or responsible for any damages or injuries caused by use of the Service. We may from time to time revise the Service, its information and its resources contained within the Service and reserves the right to make such changes without any obligation to notify past, current or prospective user. In no event shall we be liable for any indirect, special, incidental or consequential damages arising out of any use of the Service contained herein."),i.a.createElement("p",null,"Our Service may contain links to third-party web sites or services that are not owned, controlled or related to us. We have no control over, and assume no responsibility for, the content, privacy policies, or practices of any third party web sites or services. You further acknowledge and agree that we shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with the use of or reliance on any such content, goods or services available on or through any such web sites or services. We strongly advise You to read the terms and conditions and privacy policies of any third-party web sites or services that You visit."),i.a.createElement("p",null,"The materials contained in the Service are our exclusive property and, except for personal use, may not be copied, distributed, or reproduced or transmitted in any form or by any mean, electronic, mechanical, photocopying, recording or otherwise, without the prior written permission from us. The content, arrangement and the layout of the Service, including, but not limited to, the trademarks, service marks, graphic designs, text, and content, are proprietary and are protected from copying, imitation, communication, or simulation under domestic and international laws and are not to be reproduced, communicated, displayed, distributed, or transmitted without the express written permission from us. By accessing or using the Service, the User does not acquire or obtain by implication or otherwise, any license or right to use or make additional copies of any materials or information displayed on the Service."),i.a.createElement("p",null,"By accessing or using the Service You agree to be bound by these Terms and Conditions. If You disagree with any part of these Terms and Conditions then You may not access the Service."))))}}]),t}(n.Component),I=(a(63),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={showMenu:!1},a.onToggleShowMenu=function(){a.state.showMenu?a.setState({showMenu:!1}):a.setState({showMenu:!0})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(d.a,null,i.a.createElement(m.a,{show:this.state.showMenu,onHide:this.onToggleShowMenu,style:{width:"80%"},placement:"end"},i.a.createElement(m.a.Header,null,i.a.createElement(m.a.Title,{className:"p-3"},"Menu")),i.a.createElement(m.a.Body,null,i.a.createElement("ul",{className:"list-group list-group-flush p-0 m-0"},i.a.createElement("li",{className:"list-group-item"},i.a.createElement(d.b,{to:"/"},"Parkingly App")),i.a.createElement("li",{className:"list-group-item"},i.a.createElement(d.b,{to:"/terms-of-use"},"Terms of Use"))))),i.a.createElement("div",{className:"navbar navbar-dark bg-secondary container-fluid p-0 pt-4 pb-2"},i.a.createElement("div",{className:"container d-flex justify-content-between"},i.a.createElement("h1",{className:"text-light"},i.a.createElement("span",{className:"fw-bold"},"Parkingly"),".co"),i.a.createElement("button",{className:"btn btn-outline-light mb-3",onClick:this.onToggleShowMenu},i.a.createElement("i",{className:"bi bi-list fs-5"})))),i.a.createElement(h.c,null,i.a.createElement(h.a,{path:"/",element:i.a.createElement(T,null)}),i.a.createElement(h.a,{path:"/terms-of-use",element:i.a.createElement(_,null)})))}}]),t}(i.a.Component)),F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then(function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)})};a(64),a(65);s.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(I,null))),F()}},[[49,1,2]]]);
//# sourceMappingURL=main.0b2d1b15.chunk.js.map